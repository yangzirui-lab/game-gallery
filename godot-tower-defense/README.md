# 塔防游戏 - Godot版本

使用Godot 4.3引擎开发的塔防游戏，包含粒子效果和弹道追踪系统。

## 功能特点

### 核心玩法

- **塔防机制**: 建造防御塔抵御敌人波次
- **金钱系统**: 击败敌人获得金钱，用于建造更多塔
- **生命系统**: 敌人到达终点扣除生命，生命归零游戏结束
- **波次系统**: 敌人波次逐渐增强

### 视觉效果

- **粒子系统**:
  - 射击时的枪口火光效果
  - 子弹飞行时的拖尾粒子
  - 命中敌人时的爆炸效果
  - 敌人受伤的火花粒子
  - 敌人死亡的爆炸粒子

- **弹道系统**:
  - 子弹追踪目标
  - 平滑的追踪插值
  - 自动瞄准系统

### 塔类型

1. **基础塔** ($50)
   - 中等攻击速度
   - 中等伤害
   - 适合早期防御

2. **快速塔** ($100)
   - 高攻击速度
   - 低伤害
   - 适合对付快速敌人

## 如何运行

### 1. 使用Godot编辑器

1. 下载并安装 [Godot 4.3](https://godotengine.org/)
2. 打开Godot，选择"导入"
3. 选择本项目的`project.godot`文件
4. 点击"运行"按钮

### 2. 导出为Web版本

1. 在Godot编辑器中，选择"项目" -> "导出"
2. 添加"Web"预设
3. 配置导出路径到`../web/public/godot`
4. 点击"导出项目"
5. 在web项目中集成导出的文件

## 项目结构

```
godot-tower-defense/
├── project.godot          # 项目配置文件
├── scenes/                # 场景文件
│   ├── main.tscn         # 主场景
│   ├── enemy.tscn        # 敌人场景
│   ├── tower.tscn        # 塔场景
│   ├── bullet.tscn       # 子弹场景
│   └── ui.tscn           # UI场景
├── scripts/              # 脚本文件
│   ├── main.gd          # 主游戏逻辑
│   ├── enemy.gd         # 敌人逻辑
│   ├── tower.gd         # 塔逻辑
│   ├── bullet.gd        # 子弹逻辑
│   └── ui.gd            # UI逻辑
└── README.md            # 本文件
```

## 游戏机制详解

### 敌人系统

- 沿着预定义路径移动
- 血条显示
- 受伤和死亡粒子效果
- 到达终点扣除玩家生命

### 塔系统

- 自动检测范围内敌人
- 旋转炮塔瞄准目标
- 射击冷却时间
- 枪口火光效果
- 范围指示器（鼠标悬停时显示）

### 子弹系统

- 追踪目标（导弹风格）
- 平滑的追踪插值
- 飞行拖尾粒子
- 命中爆炸效果

## 技术特点

- **GDScript**: 使用Godot的原生脚本语言
- **GPU粒子**: 高性能的粒子效果
- **信号系统**: 解耦的事件通信
- **场景实例化**: 动态创建游戏对象
- **Path2D**: 敌人路径系统

## 后续改进方向

- [ ] 添加更多塔类型（减速塔、范围塔、狙击塔）
- [ ] 添加更多敌人类型（飞行、装甲、快速）
- [ ] 升级系统
- [ ] 更多关卡和地图
- [ ] 音效和背景音乐
- [ ] 保存/加载功能
- [ ] 成就系统
